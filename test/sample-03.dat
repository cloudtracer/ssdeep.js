if(typeof example==="undefined"){example={}
}var LOCALHOST_DEPLOY=false;
var LOCALHOST_HTTPS_PORT=9081;
var LOCALHOST_PROTOCOL="http";
var REMOTE_QA_DEPLOY=false;
var REMOTE_QA_URL="webapp-qa.example.com/";
example.get_platform=function(){if(example.sys&&typeof example.sys.platform!=="undefined"){return example.sys.platform
}if(navigator.userAgent.indexOf("Firefox")!==-1){return"firefox"
}if(typeof chrome!=="undefined"){return"chrome"
}if(typeof safari!=="undefined"){return"safari"
}if(typeof document!=="undefined"){switch(document.location.protocol){case"http:":case"https:":if(typeof IsSampleApp!=="undefined"){return"sample"
}else{if(typeof EBCallBackMessageReceived!=="undefined"){return"sample"
}else{return"web"
}}case"chrome:":return"firefox";
case"chrome-extension:":return"chrome";
case"safari-extension:":return"safari";
default:return"unknown"
}}return"unknown"
};
example.get_debug=function(){switch(example.sys.platform){case"sample":return true;
case"firefox":return false;
case"chrome":case"safari":return(typeof localStorage.debug!=="undefined")&&localStorage.debug;
case"web":return true;
default:return false
}};
example.get_url=function(a,b){if(typeof a!=="string"){a=""
}else{if(a.substr(0,1)==="/"){a=a.substr(1)
}}switch(example.sys.platform){case"firefox":case"chrome":return chrome.extension.getURL(a);
case"safari":return safari.extension.baseURI+a;
case"web":case"sample":if(b&&"remote_secure" in example.config.urls.apis){return example.config.urls.apis.remote_secure+a
}return example.config.urls.apis.remote+a;
default:return"../"+a
}};
example.get_relative_url=function(a){if(typeof a!=="string"){a=""
}else{if(a.substr(0,1)==="/"){a=a.substr(1)
}}switch(example.sys.platform){case"chrome":return"/"+a
}};
example.cfg=function(b,a){return example_utils.prop_by_path(example.config,b,a)
};
example.context=(typeof example_context!=="undefined")?example_context:"unknown";
example.sys={};
example.sys["platform"]=example.get_platform();
example.version={};
example.config={debug:example.get_debug(),support:{mapping:false,after_upgrade_page:true,apps:true,premium:true,new_apps:false,offline:true,free_sig_assign:true,redirect_links:false},urls:{website:{home:"https://www.example.com/",editor:"https://webapp.example.com/",editor_user:"https://webapp.example.com/user/",login:"https://webapp.example.com/login",signup:"https://webapp.example.com/login?signup",help:"https://webapp.example.com/help",spread_the_word:"https://www.example.com/spread-the-word",signature_examples:"https://branding.example.com",uninstall:"https://www.example.com/after-uninstall",signature_settings:"https://webapp.example.com/signature_settings",settings:"https://webapp.example.com/settings",repair:"https://www.example.com/download",app_brand:"https://www.example.com/apps",manage:"https://www.example.com/manage",terms:"https://www.example.com/terms",privacy:"https://www.example.com/privacy-policy",help_switch:"https://help.example.com/knowledge-base/how-can-i-assign-my-signature-to-a-specific-email-address/",need_help:"https://help.example.com/knowledge-base/i-cant-login-to-my-account-what-should-i-do/",only_facebook_login:"https://webapp.example.com/login?only_facebook_login=true",only_google_login:"https://webapp.example.com/login?only_google_login=true",forgot_password:"https://webapp.example.com/forgot_password",pro_after_upgrade:"",not_pro_after_upgrade:""},apis:{data:"https://webapp.example.com/api/users/get",signatures:"https://webapp.example.com/api/signatures/render",authorize:"https://webapp.example.com/api/users/authorization",sync_user:"https://webapp.example.com/api/data/sync_user",secure:"https://webapp.example.com/",regular_notifications:"http://n.example.com",after_install_notifications:"http://n.example.com/after-install",news_notifications:"http://n.example.com/news",upgrade_promo_notifications:"http://n.example.com/upgrade-promo",user:"http://u.example.com",userFb:"http://u.example.com","static":"http://static.example.com",templates_page:"http://u.example.com/templates",promo_page:"http://static.example.com/promo/promo.html",help:"http://static.example.com/help_"+example.sys.platform+".html",stats:"http://s.example.com",pixel:"http://p1.example.com",promo:"http://pr1.example.com",redirect:"http://r1.example.com",update:"http://updates.example.com/version/",upload:"http://u.example.com/imageUpload",upload_preview:"http://u.example.com/previewUpload",preview_page:"http://example.com/preview?path=",images:"http://images.example.com/",share_facebook:"http://www.facebook.com/sharer.php?u=",share_twitter:"https://twitter.com/intent/tweet?text=",app_update_default:"http://updates.example.com/test/<id>.update.json",app_default:"http://apps.example.com/emailapps/<id>/?format=json",link_redirection_format:"http://s.example.com/links?url=<link>",redirect_flag:"http://s.example.com/api/client/get_client_cfg",extras:"http://ws-extras.appspot.com/api/extended_tests",example_ads:"http://ws-extras.appspot.com/ads/get_all",ad_inserted:"http://ws-extras.appspot.com/ads/insert",compose_pixel:"https://ws-stats.appspot.com/ga/pixel.png?dont_count=true",wstrack:"https://ws-stats.appspot.com/api/event",get_cookies:"https://webapp.example.com/api/users/get_cookies",create_user:"https://webapp.example.com/api/users/create",set_mappings:"https://webapp.example.com/api/data/set_mappings",update_settings:"https://webapp.example.com/api/users/update_settings",selectors:"https://s3.amazonaws.com/jsons.example.com/selectors.json",urls:"https://s3.amazonaws.com/jsons.example.com/urls.json",flags:"http://ws-flags.appspot.com/api/flags",check_feature:"http://ws-flags.appspot.com/api/check_feature",get_person:"http://ws-peeps.appspot.com/api/gp",default_promo_link:"http://ws-stats.appspot.com/r?rdata=eyJydX",default_promo_pixel:"https://ws-stats.appspot.com/ga/pixel.png?dont_count=1&e=promo_45",personal_promo_pixel:"https://ws-stats.appspot.com/ga/pixel.png?dont_count=1&e=personal_promo",ws_stats_redirect:"http://ws-stats.appspot.com/r",create_auto_signature:"https://webapp.example.com/api/users/create_auto_signature",logout:"https://webapp.example.com/logout"},share_facebook:"http://www.facebook.com/sharer.php?u=http://www.example.com",share_twitter:"https://twitter.com/intent/tweet?text=!"},pro_marker:'<sup class="pro">pro</sup>'};
if(LOCALHOST_DEPLOY){example.config.urls.website.editor=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/";
example.config.urls.website.editor_user=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/user/";
example.config.urls.website.login=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/login";
example.config.urls.website.signup=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/login?signup";
example.config.urls.website.signature_settings=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/signature_settings";
example.config.urls.website.settings=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/settings";
example.config.urls.website.only_facebook_login=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/login?only_facebook_login=true";
example.config.urls.website.only_google_login=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/login?only_google_login=true";
example.config.urls.website.forgot_password=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/forgot_password";
example.config.urls.apis.data=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/users/get";
example.config.urls.apis.signatures=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/signatures/render";
example.config.urls.apis.secure=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/";
example.config.urls.apis.authorize=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/users/authorization";
example.config.urls.apis.sync_user=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/data/sync_user";
example.config.urls.apis.get_cookies=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/users/get_cookies";
example.config.urls.apis.create_user=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/users/create";
example.config.urls.apis.set_mappings=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/data/set_mappings";
example.config.urls.apis.update_settings=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/api/users/update_settings";
example.config.urls.apis.logout=LOCALHOST_PROTOCOL+"://local.example.com:"+LOCALHOST_HTTPS_PORT+"/logout";
example.config.urls.apis.selectors="https://s3.amazonaws.com/jsons.example.com/selectors-qa.json"
}if(REMOTE_QA_DEPLOY){example.config.urls.website.editor="https://"+REMOTE_QA_URL;
example.config.urls.website.editor_user="https://"+REMOTE_QA_URL+"user/";
example.config.urls.website.login="https://"+REMOTE_QA_URL+"login";
example.config.urls.website.signup="https://"+REMOTE_QA_URL+"login?signup";
example.config.urls.website.signature_settings="https://"+REMOTE_QA_URL+"signature_settings";
example.config.urls.website.settings="https://"+REMOTE_QA_URL+"settings";
example.config.urls.website.only_facebook_login="https://"+REMOTE_QA_URL+"login?only_facebook_login=true";
example.config.urls.website.only_google_login="https://"+REMOTE_QA_URL+"login?only_google_login=true";
example.config.urls.website.forgot_password="https://"+REMOTE_QA_URL+"forgot_password";
example.config.urls.apis.data="https://"+REMOTE_QA_URL+"api/users/get";
example.config.urls.apis.signatures="https://"+REMOTE_QA_URL+"api/signatures/render";
example.config.urls.apis.secure="https://"+REMOTE_QA_URL;
example.config.urls.apis.authorize="https://"+REMOTE_QA_URL+"api/users/authorization";
example.config.urls.apis.sync_user="https://"+REMOTE_QA_URL+"api/data/sync_user";
example.config.urls.apis.get_cookies="https://"+REMOTE_QA_URL+"api/users/get_cookies";
example.config.urls.apis.create_user="https://"+REMOTE_QA_URL+"api/users/create";
example.config.urls.apis.set_mappings="https://"+REMOTE_QA_URL+"api/data/set_mappings";
example.config.urls.apis.update_settings="https://"+REMOTE_QA_URL+"api/users/update_settings";
example.config.urls.apis.logout="https://"+REMOTE_QA_URL+"logout";
example.config.urls.apis.create_auto_signature="https://"+REMOTE_QA_URL+"api/users/create_auto_signature";
example.config.urls.apis.urls="https://s3.amazonaws.com/jsons.example.com/urls_qa.json";
example.config.urls.apis.selectors="https://s3.amazonaws.com/jsons.example.com/selectors-qa.json"
}example.tester_config=JSON.parse(JSON.stringify(example.config));
example.tester_config.urls.apis.regular_notifications="https://www.example.com/n/";
example.tester_config.urls.apis.after_install_notifications="https://www.example.com/n/after-install";
example.tester_config.urls.apis.news_notifications="https://www.example.com/n/news";
example.tester_config.urls.apis.upgrade_promo_notifications="https://www.example.com/n/upgrade-promo";
example.content_scripts=[{matches:["http://mail.google.com/*","https://mail.google.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/extras/inmail.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/gmail.js","content/src/extras/request_proxy.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://*.mail.yahoo.com/neo/*","https://*.mail.yahoo.com/neo/*","http://*.mail.yahoo.com/mc/*","https://*.mail.yahoo.com/mc/*","http://*.mail.yahoo.com/dc/*","https://*.mail.yahoo.com/dc/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/extras/inmail.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/yahoo.js","content/src/extras/request_proxy.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://*.mail.live.com/*","https://*.mail.live.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/extras/inmail.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/live.js","content/src/extras/request_proxy.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://*.webmail.aol.com/*","https://*.webmail.aol.com/*","http://*.mail.aol.com/*","https://*.mail.aol.com/*","http://mail.aol.com/*","https://mail.aol.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/extras/inmail.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/aol.js","content/src/extras/request_proxy.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://mail.rambler.ru/mail/compose.cgi*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/rambler.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://inbox.google.com/*","https://inbox.google.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/extras/inmail.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/inbox.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://outlook.office365.com/*","https://outlook.office365.com/*","http://outlook.office.com/*","https://outlook.office.com/*","http://outlook.live.com/*","https://outlook.live.com/*","http://*.outlook.com/*","https://*.outlook.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/outlook.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://*.secureserver.net/*","https://*.secureserver.net/*","http://*.godaddy.com/*","https://*.godaddy.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/content/_base.js","content/src/content/_web.js","content/src/content/go_daddy.js","content/src/content/fb_token_refresh.js"],css:["content/css/web.css"]},{matches:["http://*.example.com/*","https://apps.example.com/*","http://appstest.example.com/*","http://local.sampleapps/*","http://www.domain.com/*","https://www.domain.com/*","http://domain.com/*","https://domain.com/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/content/_base.js","content/src/content/_web.js"]},{matches:["http://ws-web.appspot.com/*","http://ws-web-qa.appspot.com/*","http://ws-web-qa3.appspot.com/*","http://ws-web-qa4.appspot.com/*","http://ws-web-qa5.appspot.com/*","http://webapp.example.com/*","http://webapp-qa.example.com/*","http://webapp-qa3.example.com/*","http://webapp-qa4.example.com/*","http://webapp-qa5.example.com/*","https://ws-web.appspot.com/*","https://ws-web-qa.appspot.com/*","https://ws-web-qa3.appspot.com/*","https://ws-web-qa4.appspot.com/*","https://ws-web-qa5.appspot.com/*","https://webapp.example.com/*","https://webapp-qa.example.com/*","https://webapp-qa3.example.com/*","https://webapp-qa4.example.com/*","https://webapp-qa5.example.com/*","http://local.example.com:9081/*","https://local.example.com:8080/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/content/web_editor.js"]},{matches:["https://www.example.com/myinfo/*"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/ui.js","content/src/menus.js","content/src/content/myinfo.js"]},{matches:["safari-extension://*/*/background.html"],js:["content/src/third_party/jquery.js","content/src/common.js","content/src/utils.js","content/src/controller.js","content/src/message_handler.js","background.js"]}];
var example_is_active=function(){var a=this;
this.match=function(d,c){for(var b=0;
b<d.length;
b++){var e=d[b];
if(e==c){return true
}if(c.match(example_utils.wildcard_to_regex(e))!==null){return true
}}return false
};
this.is_script_active=function(f,b){switch(example.sys.platform){case"safari":for(var e=0;
e<example.content_scripts.length;
e++){var d=example.content_scripts[e];
if(a.match(d.matches,f)){for(name in d){if(name=="js"){var g=d.js;
for(var c=0;
c<g.length;
c++){if(b===g[c]){return true
}}}}}}return false;
default:return true
}}
};
example.is_active=new example_is_active;
if((typeof(example_jquery)==="undefined")&&(typeof(jQuery)!=="undefined")){example_jquery=jQuery
}if(typeof exports!=="undefined"){exports.example=example
};